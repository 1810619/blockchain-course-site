<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>第3章作业</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      max-width: 800px;
      margin: 40px auto;
      line-height: 1.7;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .question {
      margin-bottom: 25px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 6px;
      background-color: #f0f8ff;
      font-size: 18px;
      display: none;
    }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; font-weight: bold; }
  </style>
</head>

<body>

<h1>区块链课程作业</h1>

<form id="quizForm">

  <!--------- 单选题 --------->
  <h2>一、单选题（20 分）</h2>

  <div class="question">
    <p><strong>1. 以下哪个属性不在区块中保存？（5 分）</strong></p>
    <label><input type="radio" name="q1" value="A"> A. 父块哈希值</label><br>
    <label><input type="radio" name="q1" value="B"> B. 随机数</label><br>
    <label><input type="radio" name="q1" value="C"> C. 父块区块头</label><br>
    <label><input type="radio" name="q1" value="D"> D. 默克尔根</label>
  </div>

  <div class="question">
    <p><strong>2. 当节点 A、B 产生交易时，交易将被哪些节点保存？（5 分）</strong></p>
    <label><input type="radio" name="q2" value="A"> A. 被所有节点保存</label><br>
    <label><input type="radio" name="q2" value="B"> B. 仅被 A、B 保存</label><br>
    <label><input type="radio" name="q2" value="C"> C. 被其他 48 个节点保存</label><br>
    <label><input type="radio" name="q2" value="D"> D. 被中心节点保存</label>
  </div>

  <div class="question">
    <p><strong>3. 区块之间如何实现连接？（5 分）</strong></p>
    <label><input type="radio" name="q3" value="A"> A. 节点索引记录表</label><br>
    <label><input type="radio" name="q3" value="B"> B. 父块哈希值</label><br>
    <label><input type="radio" name="q3" value="C"> C. 区块体交易内容</label><br>
    <label><input type="radio" name="q3" value="D"> D. 中心节点</label>
  </div>

  <div class="question">
    <p><strong>4. 区块相当于纸质账本的什么？（5 分）</strong></p>
    <label><input type="radio" name="q4" value="A"> A. 账页</label><br>
    <label><input type="radio" name="q4" value="B"> B. 账目</label><br>
    <label><input type="radio" name="q4" value="C"> C. 关键信息</label><br>
    <label><input type="radio" name="q4" value="D"> D. 账本</label>
  </div>

  <!--------- 填空题 --------->
  <h2>二、填空题（5 分）</h2>

  <div class="question">
    <p><strong>1. 区块链的区块分别包括（____）和（____）。</strong>（5 分）</p>
    <input type="text" id="blank1" placeholder="第一空">
    <input type="text" id="blank2" placeholder="第二空">
  </div>

  <button type="button" onclick="gradeQuiz()" style="padding:10px 20px;font-size:16px;">提交试卷</button>

</form>

<!-- 成绩显示区 -->
<div id="result" class="result"></div>

<script>
function gradeQuiz() {
  // 单选题正确答案
  const answers = {
    q1: "C",
    q2: "A",
    q3: "B",
    q4: "A"
  };

  let score = 0;
  let output = "";

  // 单选题判分
  for (let q in answers) {
    const userAnswer = document.querySelector(`input[name="${q}"]:checked`);
    if (userAnswer && userAnswer.value === answers[q]) {
      score += 5;
      output += `<p>${q}：<span class="correct">✔ 正确</span></p>`;
    } else {
      const ua = userAnswer ? userAnswer.value : "未作答";
      output += `<p>${q}：<span class="wrong">✘ 错误</span>（你的答案：${ua}，正确答案：${answers[q]}）</p>`;
    }
  }

  // 填空题答案
  const blank1 = document.getElementById("blank1").value.trim();
  const blank2 = document.getElementById("blank2").value.trim();

  if (blank1 === "区块头" && blank2 === "区块体") {
    score += 5;
    output += `<p>填空题：<span class="correct">✔ 正确</span></p>`;
  } else {
    output += `<p>填空题：<span class="wrong">✘ 错误</span>（正确答案：区块头 / 区块体）</p>`;
  }

  // 输出结果
  const resultDiv = document.getElementById("result");
  resultDiv.style.display = "block";
  resultDiv.innerHTML = `<h3>你的得分：${score} / 25</h3>` + output;
}
</script>

</body>
</html>
